<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Asynchronous JavaScript</title>
</head>
<body>
    <h1>Asynchronous JavaScript</h1>
    <script>

      //  const second = () => {
      //   setTimeout(() => {
      //       console.log('sync function Second');
      //   },2000);
      //
      // }
      //
      // const first = () => {
      //   console.log('Hey there ?');
      //   second();
      //   console.log('bye');
      // }
      // first();
      //
      // function getReceipe(){
      //   setTimeout(() => {
      //     const recipeID = [1,2,3,4];
      //     console.log(recipeID);
      //
      //     setTimeout((id) => {
      //         const receipe = {title :'Fresh paste', publish :'GP'};
      //         console.log(`${id} : ${receipe.title}`)
      //
      //         setTimeout(publish => {
      //             const receipe2 = {title:'Italian',publish:'prakash'};
      //             console.log(receipe)
      //         },1500,receipe.publish);
      //
      //     },1500,recipeID[2]);
      //
      //   },1500);
      // }
      // getReceipe();

      const getIDs = new Promise((resolve,reject) => {
        setTimeout(() => {
          resolve([1,2,3,4]);
        },1500);
      });

      const getReceipe = recID => {
        return new Promise((resolve,reject) => {
              setTimeout(ID => {
                const receipe = {title :'Fresh paste', publish :'GP'};
                resolve(`${ID} : ${receipe.title}`);
              },1500,recID);

        })
      };

      const  getRelated = publish => {
        return new Promise((resolve,reject) => {
            setTimeout(pub => {
              const receipe = {title:'Italian pizza',publish:'prakash'};
              resolve(`${pub}: ${receipe.title}`);
              },1500,publish);
            });
        };

      // getIDs
      // .then(IDs => {
      //   console.log(IDs);
      //   return getReceipe(IDs[2]);
      // })
      // .then(x => {
      //   console.log(x);
      //   return getRelated('prakash');
      // })
      // .then(y => {
      //   console.log(y);
      // })
      // .catch(error =>{
      //   console.log('error');
      // });

      // async function getReceipeAM(){
      //     const IDs = await getIDs;
      //     console.log(IDs);
      //
      //     const recipe = await getReceipe(IDs[2]);
      //     console.log(recipe);
      //
      //     const related = await getRelated('prakash')
      //     console.log(related);
      //
      //     return recipe;
      // }
      // getReceipeAM().then(result => console.log(`${result}`));
      const url = 'https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location/search/?query=san'
      fetch(url)
      .then(result => {
        console.log(result);
        return result.json();
      })
      .then(data => {
        console.log(data);
      })
      .catch(error => {
        console.log(console.error());
      });

    </script>
</body>
</html>
